
app.service("formatPropertyService", [ function () {
    this.formatArrayResponse = function (rawData) {
        if (rawData === "") {
            return [];
        }
        var data = angular.fromJson(rawData);
        return formatAccordingToType(data);
    };
    this.formatSingleObjectResponse = function (rawData) {
        if (!rawData) {
            return "";
        }
        var data = angular.fromJson(rawData);
        return formatAccordingToType(data);
    };
    function formatData(data) {
        var returnObj = {};
        for (var property in data) {
            if (data.hasOwnProperty(property)) {
                returnObj[property] = formatAccordingToType(data[property]);
            }
        }
        return returnObj;
    }
    function formatArray(array) {
        var returnArray = [];
        for (var i = 0; i < array.length; ++i) {
            returnArray.push(formatAccordingToType(array[i]));
        }
        return returnArray;
    }
    function formatAccordingToType(data) {
        if (data === null) {
            return null;
        }
        else if (Array.isArray(data)) {
            return formatArray(data);
        }
        else if (typeof data === "object") {
            return formatData(data);
        }
        else {
            //return { data: data };
            return data;
        }
    }
}]);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlbGxQcmljZS5XZWIvUHJlc2VudGF0aW9uL3NjcmlwdHMvZm9ybWF0UHJvcGVydHlTZXJ2aWNlLnRzIl0sIm5hbWVzIjpbImZvcm1hdERhdGEiLCJmb3JtYXRBcnJheSIsImZvcm1hdEFjY29yZGluZ1RvVHlwZSJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBRyxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRTtJQUNqQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsVUFBUyxPQUFPO1FBQ3ZDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDZCxDQUFDO1FBQ0QsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNyQyxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQyxDQUFDO0lBRUYsSUFBSSxDQUFDLDBCQUEwQixHQUFHLFVBQVMsT0FBTztRQUM5QyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDWCxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ2QsQ0FBQztRQUNELElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFckMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLENBQUMsQ0FBQztJQUVGLG9CQUFvQixJQUFJO1FBQ3BCQSxJQUFJQSxTQUFTQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNuQkEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsUUFBUUEsSUFBSUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDeEJBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNoQ0EsU0FBU0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsR0FBR0EscUJBQXFCQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNoRUEsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFDREEsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0E7SUFDckJBLENBQUNBO0lBRUQscUJBQXFCLEtBQUs7UUFDdEJDLElBQUlBLFdBQVdBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ3JCQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxLQUFLQSxDQUFDQSxNQUFNQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxDQUFDQTtZQUNwQ0EsV0FBV0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EscUJBQXFCQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN0REEsQ0FBQ0E7UUFDREEsTUFBTUEsQ0FBQ0EsV0FBV0EsQ0FBQ0E7SUFDdkJBLENBQUNBO0lBRUQsK0JBQStCLElBQUk7UUFDL0JDLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLEtBQUtBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBQ2hCQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNoQkEsQ0FBQ0E7UUFBQ0EsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDN0JBLE1BQU1BLENBQUNBLFdBQVdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQzdCQSxDQUFDQTtRQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxPQUFPQSxJQUFJQSxLQUFLQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNsQ0EsTUFBTUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ0pBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBO1FBQ2hCQSxDQUFDQTtJQUNMQSxDQUFDQTtBQUNMLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6IlNlbGxQcmljZS5XZWIvUHJlc2VudGF0aW9uL3NjcmlwdHMvZm9ybWF0UHJvcGVydHlTZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLnNlcnZpY2UoXCJmb3JtYXRQcm9wZXJ0eVNlcnZpY2VcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmZvcm1hdEFycmF5UmVzcG9uc2UgPSBmdW5jdGlvbihyYXdEYXRhKTogYW55W10ge1xyXG4gICAgICAgIGlmIChyYXdEYXRhID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRhdGEgPSBhbmd1bGFyLmZyb21Kc29uKHJhd0RhdGEpO1xyXG4gICAgICAgIHJldHVybiBmb3JtYXRBY2NvcmRpbmdUb1R5cGUoZGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9ybWF0U2luZ2xlT2JqZWN0UmVzcG9uc2UgPSBmdW5jdGlvbihyYXdEYXRhKTogT2JqZWN0IHtcclxuICAgICAgICBpZiAoIXJhd0RhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkYXRhID0gYW5ndWxhci5mcm9tSnNvbihyYXdEYXRhKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdEFjY29yZGluZ1RvVHlwZShkYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZm9ybWF0RGF0YShkYXRhKTogT2JqZWN0IHtcclxuICAgICAgICB2YXIgcmV0dXJuT2JqID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybk9ialtwcm9wZXJ0eV0gPSBmb3JtYXRBY2NvcmRpbmdUb1R5cGUoZGF0YVtwcm9wZXJ0eV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXR1cm5PYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZm9ybWF0QXJyYXkoYXJyYXkpOiBhbnlbXSB7XHJcbiAgICAgICAgdmFyIHJldHVybkFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICByZXR1cm5BcnJheS5wdXNoKGZvcm1hdEFjY29yZGluZ1RvVHlwZShhcnJheVtpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV0dXJuQXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZm9ybWF0QWNjb3JkaW5nVG9UeXBlKGRhdGEpOiBhbnkge1xyXG4gICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0QXJyYXkoZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0RGF0YShkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiLi8ifQ==
